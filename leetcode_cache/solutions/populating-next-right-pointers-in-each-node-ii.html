<div class='cpp-solution'><h2>C++ | Binary Tree | Super Simple | 100% Faster -- Votes: 54</h2><p><strong>BFS: LEVEL ORDER TRAVERSAL</strong></p>
<div class="codehilite"><pre><span></span><code><span class="o">/*</span>
<span class="c1">// Definition for a Node.</span>
<span class="n">class</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
<span class="w">    </span><span class="nb">int</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>

<span class="w">    </span><span class="n">Node</span><span class="p">()</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">val</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">left</span><span class="p">(</span><span class="n">NULL</span><span class="p">),</span><span class="w"> </span><span class="n">right</span><span class="p">(</span><span class="n">NULL</span><span class="p">),</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="n">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="n">Node</span><span class="p">(</span><span class="nb">int</span><span class="w"> </span><span class="n">_val</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">val</span><span class="p">(</span><span class="n">_val</span><span class="p">),</span><span class="w"> </span><span class="n">left</span><span class="p">(</span><span class="n">NULL</span><span class="p">),</span><span class="w"> </span><span class="n">right</span><span class="p">(</span><span class="n">NULL</span><span class="p">),</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="n">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="n">Node</span><span class="p">(</span><span class="nb">int</span><span class="w"> </span><span class="n">_val</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">_left</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">_right</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">_next</span><span class="p">)</span>
<span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="n">val</span><span class="p">(</span><span class="n">_val</span><span class="p">),</span><span class="w"> </span><span class="n">left</span><span class="p">(</span><span class="n">_left</span><span class="p">),</span><span class="w"> </span><span class="n">right</span><span class="p">(</span><span class="n">_right</span><span class="p">),</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="n">_next</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="p">};</span>
<span class="o">*/</span>

<span class="n">class</span><span class="w"> </span><span class="n">Solution</span><span class="w"> </span><span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">connect</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">root</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span>!<span class="n">root</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">root</span><span class="p">;</span>
<span class="w">        </span><span class="n">queue</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">;</span>
<span class="w">        </span><span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
<span class="w">        </span><span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">NULL</span><span class="p">);</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="nb">size</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">curr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
<span class="w">            </span><span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span>!<span class="n">curr</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">NULL</span><span class="p">);</span>
<span class="w">                </span><span class="k">continue</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span>
<span class="w">                </span><span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span>
<span class="w">                </span><span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">root</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
</code></pre></div>

<p>Hope you like it.</p></div>


<div class='python-solution'><h2>AC Python O(1) space solution 12 lines and easy to understand -- Votes: 204</h2><p>The algorithm is a BFS or level order traversal. We go through the tree level by level. node is the pointer in the parent level, tail is the tail pointer in the child level.<br />
The parent level can be view as a singly linked list or queue, which we can traversal easily with a pointer.<br />
Connect the tail with every one of the possible nodes in child level, update it only if the connected node is not nil.<br />
Do this one level by one level. The whole thing is quite straightforward.</p>
<p><strong>Python</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nv">def</span><span class="w"> </span><span class="k">connect</span><span class="ss">(</span><span class="nv">self</span>,<span class="w"> </span><span class="nv">node</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">dummy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">TreeLinkNode</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="nv">node</span>:
<span class="w">        </span><span class="nv">tail</span>.<span class="k">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span>.<span class="nv">left</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nv">tail</span>.<span class="k">next</span>:
<span class="w">            </span><span class="nv">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tail</span>.<span class="k">next</span>
<span class="w">        </span><span class="nv">tail</span>.<span class="k">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span>.<span class="nv">right</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nv">tail</span>.<span class="k">next</span>:
<span class="w">            </span><span class="nv">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tail</span>.<span class="k">next</span>
<span class="w">        </span><span class="nv">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span>.<span class="k">next</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">node</span>:
<span class="w">            </span><span class="nv">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">dummy</span>
<span class="w">            </span><span class="nv">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">dummy</span>.<span class="k">next</span>


#<span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="nv">test</span><span class="w"> </span><span class="nv">cases</span><span class="w"> </span><span class="nv">passed</span>.
#<span class="w"> </span><span class="nv">Status</span>:<span class="w"> </span><span class="nv">Accepted</span>
#<span class="w"> </span><span class="nv">Runtime</span>:<span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="nv">ms</span>
#<span class="w"> </span><span class="mi">95</span>.<span class="mi">26</span><span class="o">%</span>
</code></pre></div></div><p style="page-break-before: always" ></p>