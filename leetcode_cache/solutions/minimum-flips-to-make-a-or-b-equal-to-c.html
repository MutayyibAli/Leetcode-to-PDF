<div class='cpp-solution'><h2>C++ bitwise xor solution, 1 line -- Votes: 195</h2><p><strong>Step 1</strong>: <code>a | b</code> is what we have while <code>c</code> is what we want. An XOR operation finds all different bits, i.e. <code>(a | b) ^ c</code> sets the bits where flip(s) is needed. Then we count the set bits.<br />
<strong>Step 2</strong>: There is only one case when two flips are needed: a bit is <code>0</code> in <code>c</code> but is <code>1</code> in both <code>a</code> and <code>b</code>. An AND operation finds all common <code>1</code> bits, i.e. <code>a &amp; b &amp; ((a | b) ^ c)</code> sets the common <code>1</code> bits in <code>a</code>, <code>b</code> and the must-flip bits found in Step 1.</p>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">cpp</span><span class="w"> </span>
<span class="kt">int</span><span class="w"> </span><span class="n">minFlips</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">popcount</span><span class="o">&lt;</span><span class="n">uint</span><span class="o">&gt;</span><span class="p">((</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">popcount</span><span class="o">&lt;</span><span class="n">uint</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">((</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">c</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>

<p>or simplify with an assignment:</p>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">cpp</span><span class="w"> </span>
<span class="kt">int</span><span class="w"> </span><span class="n">minFlips</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">popcount</span><span class="o">&lt;</span><span class="n">uint</span><span class="o">&gt;</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">popcount</span><span class="o">&lt;</span><span class="n">uint</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>Note: The <code>popcount</code> function is a C++ 20 standard builtin function that counts set bits. LeetCode uses g++ compiler with the C++17 standard so we can use <code>__builtin_popcount</code> instead. For other compilers please use <code>bitset&lt;32&gt;().count()</code>.</p>
<p>Update (02/03/2024): LeetCode now uses clang compiler 17 with C++20 standard support, but it does not automatically convert signed argument types into unsigned ones. So we have to explicitly specify the type <code>&lt;uint&gt;</code>. Also, now that we have to perform the conversion, we can actually use <code>ulong</code> instead and combine two <code>popcount</code> calls into one, which makes the code even shorter:</p>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">cpp</span><span class="w"> </span>
<span class="kt">int</span><span class="w"> </span><span class="n">minFlips</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">popcount</span><span class="p">((</span><span class="n">ulong</span><span class="p">)(</span><span class="n">c</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>An even shorter way for conversion:</p>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">cpp</span><span class="w"> </span>
<span class="kt">int</span><span class="w"> </span><span class="n">minFlips</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">popcount</span><span class="p">(</span><span class="mi">0ul</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>


<div class='python-solution'><h2>[Java/Python 3] Bit manipulation w/ explanation and analysis. -- Votes: 68</h2><p><strong>Method 1:</strong></p>
<p><strong>Credit to @codedayday:</strong> for contribution to remove redundant part of the code.</p>
<hr />
<p><strong>Q &amp; A</strong><br />
Q1: What is the <code>mask</code>? is it <code>00...01</code> at the beginning, and move bit <code>1</code> to the left when <code>i</code> is increasing?<br />
A1: Exactly. <code>mask</code> changes as the following during iteration:</p>
<div class="codehilite"><pre><span></span><code><span class="mf">00...01</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mf">00...010</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mf">00...0100</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mf">00...01000</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mf">...</span>
</code></pre></div>

<p>Q2: Is the <code>31</code> here because in C++ int is 32-bit long and there's a sign bit?<br />
A2: Because the question said that <code>a,b,c</code> are positive numbers. -- <strong>Credit to @KHVic</strong></p>
<hr />
<ol>
<li>if <code>(a | b) ^ c</code> is <code>0</code>, <code>a | b</code> and <code>c</code> are equal, otherwise not equal and we need to check them bit by bit;</li>
<li>For <code>ith</code> bit of <code>(a | b) ^ c</code>, use <code>1 &lt;&lt; i</code> as mask to do <code>&amp;</code> operation to check if the bit is <code>0</code>; if not, <code>ith</code> bits of <code>a | b</code> and <code>c</code> are not same and we need at least <code>1</code> flip; there are 3 cases:<br />
   i) the <code>ith</code> bit of <code>a | b</code> less than that of <code>c</code>; then <code>ith</code> bit of <code>a | b</code> must be <code>0</code>, we only need to flip the <code>ith</code> bit of either <code>a</code> or <code>b</code>;<br />
   ii) the <code>ith</code> bit of <code>a | b</code> bigger than that of <code>c</code>; then <code>ith</code> bit of <code>a | b</code> must be <code>1</code>, but if only one of <code>a</code> or <code>b</code>'s <code>ith</code> bit is <code>1</code>, we only need to flip one of them;<br />
   iii) Other case, we need to flip both set bit of <code>a</code> and <code>b</code>, hence need <code>2</code> flips.<br />
   In short, <strong>if <code>ith</code> bits of <code>a | b</code> and <code>c</code> are not same, then only if <code>ith</code> bits of <code>a</code> and <code>b</code> are both <code>1</code> and that of <code>c</code> is <code>0</code>, we need <code>2</code> flips; otherwise only <code>1</code> flip needed.</strong></li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">java</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">minFlips</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">equal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ab</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">31</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">equal</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">  </span><span class="c1">// ith bits of a | b and c are not same, need at least 1 flip.</span>
<span class="w">             </span><span class="c1">// ans += (ab &amp; mask) &lt; (c &amp; mask) || (a &amp; mask) != (b &amp; mask) ? 1 : 2;</span>
<span class="w">                </span><span class="n">ans</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">mask</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// ith bits of a and b are both 1 and that of c is 0?</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ans</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">Language</span><span class="p">:</span> <span class="n">python</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">minFlips</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">ab</span><span class="p">,</span> <span class="n">equal</span><span class="p">,</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">a</span> <span class="o">|</span> <span class="n">b</span><span class="p">,</span> <span class="p">(</span><span class="n">a</span> <span class="o">|</span> <span class="n">b</span><span class="p">)</span> <span class="o">^</span> <span class="n">c</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">31</span><span class="p">):</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span>
            <span class="k">if</span> <span class="n">equal</span> <span class="o">&amp;</span> <span class="n">mask</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
              <span class="c1"># ans += 1 if (ab &amp; mask) &lt; (c &amp; mask) or (a &amp; mask) != (b &amp; mask) else 2</span>
                <span class="n">ans</span> <span class="o">+=</span> <span class="mi">2</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">b</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">c</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div>

<hr />
<p><strong>Method 2:</strong></p>
<p>The following idea and simple codes are from <strong>@mzchen</strong>:</p>
<p><strong>Step 1</strong>: <code>a | b</code> is what we have while <code>c</code> is what we want. An XOR operation finds all different bits, i.e. <code>(a | b) ^ c</code> sets the bits where flip(s) is needed. Then we count the set bits.<br />
<strong>Step 2</strong>: There is only one case when two flips are needed: a bit is <code>0</code> in <code>c</code> but is <code>1</code> in both <code>a</code> and <code>b</code>. An AND operation finds all common <code>1</code> bits, i.e. <code>a &amp; b &amp; ((a | b) ^ c)</code> sets the common <code>1</code> bits in <code>a</code>, <code>b</code> and the must-flip bits found in Step 1.</p>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">java</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">minFlips</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">bitCount</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">bitCount</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">Language</span><span class="p">:</span> <span class="n">python</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">minFlips</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">c</span> <span class="o">:=</span> <span class="p">(</span><span class="n">a</span> <span class="o">|</span> <span class="n">b</span><span class="p">)</span> <span class="o">^</span> <span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">bit_count</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">a</span> <span class="o">&amp;</span> <span class="n">b</span> <span class="o">&amp;</span> <span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">bit_count</span><span class="p">()</span>
</code></pre></div>

<p><strong>Analysis:</strong><br />
Time: O(L), space: O(1), where L is the number of bits in an integer.</p></div><p style="page-break-before: always" ></p>