<div class='cpp-solution'><h2>C++ || EASY EXPLANATION || DFS || -- Votes: 724</h2><div class="codehilite"><pre><span></span><code>                           &#39;I’ve got nothing to say but it’s okay, good morning, good morning&#39;
</code></pre></div>

<h4>OBSERVATIONS</h4>
<div class="codehilite"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">Cloned</span><span class="w"> </span><span class="n">Graph</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="kr">new</span><span class="n">nodes</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">don</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="ow">or</span><span class="n">iginal</span><span class="w"> </span><span class="n">graph</span><span class="mf">.</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">Graph</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">practical</span><span class="w"> </span><span class="n">edges</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="mf">.</span><span class="n">e</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">pointers</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">edges</span><span class="mf">.</span>
<span class="w">         </span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">)</span><span class="w">            </span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">3</span><span class="p">)</span><span class="o">&lt;---</span><span class="n">adj</span><span class="w"> </span><span class="kr">list</span>
<span class="w">          </span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="o">-------------</span><span class="p">(</span><span class="mf">2</span><span class="p">)</span>
<span class="w">            </span><span class="err">|</span><span class="w">              </span><span class="err">|</span>
<span class="w">            </span><span class="err">|</span><span class="w">              </span><span class="err">|</span>
<span class="w">            </span><span class="err">|</span><span class="w">              </span><span class="err">|</span>
<span class="w">          </span><span class="p">(</span><span class="mf">4</span><span class="p">)</span><span class="o">-------------</span><span class="p">(</span><span class="mf">3</span><span class="p">)</span>
<span class="w">          </span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="mf">3</span><span class="p">)</span><span class="w">          </span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="mf">4</span><span class="p">)</span>
<span class="kr">If</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">say</span><span class="w"> </span><span class="err">&#39;</span><span class="mf">1</span><span class="err">&#39;</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">my</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">jump</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="err">&#39;</span><span class="mf">2</span><span class="err">&#39;</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">iterate</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">adjacency</span><span class="w"> </span><span class="kr">list</span><span class="mf">.</span>
</code></pre></div>

<h4>ALGORITHM TO USE</h4>
<div class="codehilite"><pre><span></span><code><span class="nx">We</span><span class="w"> </span><span class="nx">need</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">traverse</span><span class="w"> </span><span class="nx">all</span><span class="w"> </span><span class="nx">node</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">original</span><span class="w"> </span><span class="nx">graph</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nx">soon</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nx">we</span><span class="w"> </span><span class="nx">reach</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">node</span><span class="p">,</span><span class="w"> </span><span class="nx">we</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">make</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">copy</span><span class="w"> </span><span class="nx">node</span><span class="p">.</span>
<span class="nx">And</span><span class="w"> </span><span class="nx">recur</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">rest</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">graph</span><span class="p">.</span>
<span class="nx">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">typical</span><span class="w"> </span><span class="nx">recursion</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="nx">problem</span><span class="w"> </span><span class="nx">implemented</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">Graph</span><span class="p">.</span>
<span class="nx">For</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">Recursion</span><span class="err">&#39;</span><span class="w"> </span><span class="nx">we</span><span class="w"> </span><span class="nx">use</span><span class="w"> </span><span class="nx">basically</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">DFS</span><span class="err">&#39;</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">BFS</span><span class="err">&#39;</span><span class="p">.</span>
<span class="nx">I</span><span class="w"> </span><span class="nx">am</span><span class="w"> </span><span class="nx">using</span><span class="w"> </span><span class="nx">DFS</span>
</code></pre></div>

<h4>KEY POINTS</h4>
<div class="codehilite"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">We</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">HashMap</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">solve</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">DFS</span><span class="mf">.</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">Initially</span><span class="w"> </span><span class="n">our</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">try</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kr">new</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">node</span><span class="mf">.</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">We</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">point</span><span class="mf">.</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">am</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="err">&#39;</span><span class="mf">1</span><span class="err">&#39;</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">my</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">point</span><span class="mf">.</span>

<span class="n">Now</span><span class="w"> </span><span class="kd">let</span><span class="n">s</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="kr">go</span><span class="n">ing</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">am</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">whenever</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">visited</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">new</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">coloned</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">there</span><span class="mf">.</span>
<span class="n">We</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">DFS</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="err">&#39;</span><span class="n">it</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">(</span><span class="n">select</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">arbitrary</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">case</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">graph</span><span class="p">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nb">exp</span><span class="n">lores</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">far</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nb">pos</span><span class="n">sible</span><span class="w"> </span><span class="n">along</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">backtracking</span><span class="mf">.</span>
<span class="n">So</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">basic</span><span class="w"> </span><span class="n">idea</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">arbitrary</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">mark</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">move</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">adjacentunmarked</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="kr">cont</span><span class="n">inue</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">unmarked</span><span class="w"> </span><span class="n">adjacent</span><span class="w"> </span><span class="n">node</span><span class="mf">.</span><span class="w"> </span>
<span class="kr">Then</span><span class="w"> </span><span class="n">backtrack</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">unmarked</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">traverse</span><span class="w"> </span><span class="n">them</span><span class="mf">.</span><span class="w"> </span><span class="n">Finally</span><span class="p">,</span><span class="w"> </span><span class="kr">print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nodes</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="mf">.</span><span class="err">&#39;</span>
<span class="n">So</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">HashMap</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">visited</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="kr">on</span><span class="n">e</span><span class="w"> </span><span class="kr">to</span><span class="mf">.</span>
<span class="w"> </span><span class="n">_________</span>
<span class="err">|</span><span class="w"> </span><span class="n">HashMap</span><span class="w"> </span><span class="err">|</span>
<span class="w"> </span><span class="o">----------</span>
<span class="err">|</span><span class="n">Old</span><span class="err">|</span><span class="n">Clone</span><span class="err">|</span><span class="w"> </span>
<span class="err">|</span><span class="w"> </span><span class="mf">1</span><span class="w">  </span><span class="err">|</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w">  </span><span class="mf">2</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w">  </span><span class="mf">3</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="err">|</span><span class="w">                                                     </span>
<span class="err">|</span><span class="w">  </span><span class="mf">4</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="err">|</span><span class="w">                                                                                                            </span>
<span class="o">---------</span>

<span class="n">Now</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">cloned</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">visited</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">cloned</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">fro</span><span class="w">  </span><span class="n">i</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">choices</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="kr">on</span><span class="n">e</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">discover</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="n">i</span><span class="mf">.</span><span class="n">e</span><span class="w"> </span><span class="kr">new</span><span class="w"> </span><span class="n">node</span>
<span class="n">so</span><span class="w"> </span><span class="n">accordingly</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">dfs</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">cloned</span><span class="w"> </span><span class="n">it</span><span class="mf">.</span><span class="w"> </span><span class="n">Now</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">fro</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">viisted</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">new</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="mf">4.</span><span class="w"> </span><span class="n">So</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="n">half</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Dfs</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">completed</span><span class="p">,</span>
<span class="ow">and</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">recursive</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kr">go</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">where</span><span class="mf">.</span>
<span class="ow">And</span><span class="w"> </span><span class="n">follow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">rules</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">there</span><span class="mf">.</span>

<span class="n">BUT</span><span class="w"> </span><span class="n">BEFORE</span><span class="w"> </span><span class="n">STARTING</span><span class="w"> </span><span class="n">ANY</span><span class="w"> </span><span class="n">CLONING</span><span class="w"> </span><span class="n">WE</span><span class="w"> </span><span class="n">HAVE</span><span class="w"> </span><span class="kr">TO</span><span class="w"> </span><span class="n">CHECK</span><span class="w"> </span><span class="n">THAT</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="n">WE</span><span class="w"> </span><span class="n">HAVE</span><span class="w"> </span><span class="n">CLONED</span><span class="w"> </span><span class="n">THAT</span><span class="w"> </span><span class="n">NODE</span><span class="w"> </span><span class="n">ALREADY</span><span class="w"> </span><span class="n">THERE</span><span class="w"> </span><span class="ow">OR</span><span class="w"> </span><span class="ow">NOT</span><span class="mf">.</span><span class="w"> </span><span class="kr">IF</span><span class="w"> </span><span class="ow">NOT</span><span class="w"> </span><span class="n">THAN</span><span class="w"> </span><span class="kr">ON</span><span class="n">LY</span><span class="w"> </span><span class="n">WE</span><span class="w"> </span><span class="n">CLONED</span><span class="w"> </span><span class="n">IT</span><span class="mf">.</span><span class="w"> </span>

<span class="n">Thats</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kr">on</span><span class="n">ly</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">don</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">again</span><span class="mf">.</span>
<span class="kr">For</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">uncloned</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">iterate</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">neighbors</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="ow">or</span><span class="n">iginal</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">dfs</span><span class="w"> </span><span class="n">traversal</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">bfs</span><span class="w"> </span><span class="n">traversal</span><span class="mf">.</span>
</code></pre></div>

<h3>CODE</h3>
<div class="codehilite"><pre><span></span><code><span class="w">                                          </span><span class="s1">&#39;IF YOU LIKE IT THEN PLS UpVote&#39;</span>
<span class="k">class</span><span class="w"> </span><span class="n">Solution</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">public</span><span class="err">:</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">dfs</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cur</span><span class="p">,</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*</span><span class="p">,</span><span class="n">Node</span><span class="o">*&gt;&amp;</span><span class="w"> </span><span class="n">mp</span><span class="p">)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span><span class="w"> </span><span class="n">neighbour</span><span class="p">;</span>
<span class="w">        </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">clone</span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">);</span>
<span class="w">        </span><span class="n">mp</span><span class="o">[</span><span class="n">cur</span><span class="o">]=</span><span class="n">clone</span><span class="p">;</span>
<span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="n">auto</span><span class="w"> </span><span class="nl">it</span><span class="p">:</span><span class="n">cur</span><span class="o">-&gt;</span><span class="n">neighbors</span><span class="p">)</span>
<span class="w">            </span><span class="err">{</span>
<span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">mp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">it</span><span class="p">)</span><span class="o">!=</span><span class="n">mp</span><span class="p">.</span><span class="k">end</span><span class="p">())</span><span class="w">   </span><span class="o">//</span><span class="n">already</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">map</span>
<span class="w">                </span><span class="err">{</span>
<span class="w">                    </span><span class="n">neighbour</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">mp</span><span class="o">[</span><span class="n">it</span><span class="o">]</span><span class="p">);</span><span class="w">    </span><span class="o">//</span><span class="n">directly</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">map</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">neigh</span>
<span class="w">                </span><span class="err">}</span>
<span class="w">                </span><span class="k">else</span>
<span class="w">                    </span><span class="n">neighbour</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">it</span><span class="p">,</span><span class="n">mp</span><span class="p">));</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">            </span><span class="n">clone</span><span class="o">-&gt;</span><span class="n">neighbors</span><span class="o">=</span><span class="n">neighbour</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">clone</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">cloneGraph</span><span class="p">(</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*</span><span class="p">,</span><span class="n">Node</span><span class="o">*&gt;</span><span class="w"> </span><span class="n">mp</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">node</span><span class="o">==</span><span class="k">NULL</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">neighbors</span><span class="p">.</span><span class="k">size</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="w">   </span><span class="o">//</span><span class="k">if</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="k">no</span><span class="w"> </span><span class="n">neighbors</span>
<span class="w">        </span><span class="err">{</span>
<span class="w">            </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">clone</span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">clone</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">dfs</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="n">mp</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span><span class="p">;</span>
</code></pre></div></div>


<div class='python-solution'><h2>✔️ [Python3] ITERATIVE BFS (beats 98%) ,､’`<(❛ヮ❛✿)>,､’`’`,､, Explained -- Votes: 395</h2><p><strong>UPVOTE if you like (◠‿◠), If you have any question, feel free to ask.</strong></p>
<p>To solve this problem we need two things:</p>
<ol>
<li>BFS to traverse the graph</li>
<li>A hash map to keep track of already visited and already cloned nodes</li>
</ol>
<p>We push a node in the queue and make sure that the node is already cloned. Then we process neighbors. If a neighbor is already cloned and visited, we just append it to the current clone neighbors list, otherwise, we clone it first and append it to the queue to make sure that we can visit it in the next tick.</p>
<p>Time: <strong>O(V + E)</strong> - for BFS<br />
Space: <strong>O(V)</strong> - for the hashmap</p>
<p>Runtime: 32 ms, faster than <strong>98.18%</strong> of Python3 online submissions for Clone Graph.<br />
Memory Usage: 14.4 MB, less than <strong>91.72%</strong> of Python3 online submissions for Clone Graph.</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nl">Solution</span><span class="p">:</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">cloneGraph</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">node</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Node&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s1">&#39;Node&#39;</span><span class="err">:</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nl">node</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">node</span>

<span class="w">        </span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="n">clones</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">deque</span><span class="p">(</span><span class="o">[</span><span class="n">node</span><span class="o">]</span><span class="p">),</span><span class="w"> </span><span class="err">{</span><span class="n">node</span><span class="p">.</span><span class="nl">val</span><span class="p">:</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">)</span><span class="err">}</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="nl">q</span><span class="p">:</span>
<span class="w">            </span><span class="n">cur</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">q</span><span class="p">.</span><span class="n">popleft</span><span class="p">()</span><span class="w"> </span>
<span class="w">            </span><span class="n">cur_clone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clones</span><span class="o">[</span><span class="n">cur.val</span><span class="o">]</span><span class="w">            </span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">ngbr</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">cur</span><span class="p">.</span><span class="nl">neighbors</span><span class="p">:</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">ngbr</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">clones</span><span class="p">:</span>
<span class="w">                    </span><span class="n">clones</span><span class="o">[</span><span class="n">ngbr.val</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">ngbr</span><span class="p">.</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="p">)</span>
<span class="w">                    </span><span class="n">q</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ngbr</span><span class="p">)</span>

<span class="w">                </span><span class="n">cur_clone</span><span class="p">.</span><span class="n">neighbors</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">clones</span><span class="o">[</span><span class="n">ngbr.val</span><span class="o">]</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">clones</span><span class="o">[</span><span class="n">node.val</span><span class="o">]</span>
</code></pre></div>

<p><strong>UPVOTE if you like (◠‿◠), If you have any question, feel free to ask.</strong></p></div><p style="page-break-before: always" ></p>