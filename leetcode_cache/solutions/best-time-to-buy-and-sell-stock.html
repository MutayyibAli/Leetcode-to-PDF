<div class='cpp-solution'><h4>ðŸ”¥Most Optimized ||ðŸŒŸKadane's Algorithm || Java || C++ || Python || Rust || JavaScript [Votes: 903]</h4><h4>Intuition</h4>
<p>The problem aims to find the maximum profit that can be obtained by buying and selling a stock. The given solution seems to follow a simple approach of iterating through the prices, keeping track of the minimum buying price, and updating the profit whenever a higher selling price is encountered.</p>
<h4>Approach</h4>
<ol>
<li>Initialize variables <code>buy</code> with the first element of the prices array and <code>profit</code> as 0.</li>
<li>Iterate through the prices starting from the second element.</li>
<li>Update the <code>buy</code> variable if the current price is lower than the current buying price.</li>
<li>Update the <code>profit</code> if the difference between the current price and the buying price is greater than the current profit.</li>
<li>Return the final profit.</li>
</ol>
<h4>Kadane's Algorithm</h4>
<p>Kadane's Algorithm is a dynamic programming technique used to find the maximum subarray sum in an array of numbers. The algorithm maintains two variables: <code>max_current</code> represents the maximum sum ending at the current position, and <code>max_global</code> represents the maximum subarray sum encountered so far. At each iteration, it updates <code>max_current</code> to include the current element or start a new subarray if the current element is larger than the accumulated sum. The <code>max_global</code> is updated if <code>max_current</code> surpasses its value.</p>
<h4>Relating with the Approach</h4>
<p>In the provided approach for finding the maximum profit in stock prices, the algorithm can be seen as a variation of Kadane's Algorithm. Instead of finding the maximum subarray sum directly, it focuses on finding the maximum positive difference between consecutive elements (prices) in the array. </p>
<p>Here's how the approach relates to Kadane's Algorithm:</p>
<ol>
<li><strong>Initialization:</strong></li>
<li>In Kadane's Algorithm, <code>max_current</code> and <code>max_global</code> are initialized to the first element of the array.</li>
<li>
<p>In the stock profit approach, <code>buy</code> is initialized with the first element of the prices array, and <code>profit</code> is initialized to 0.</p>
</li>
<li>
<p><strong>Iteration:</strong></p>
</li>
<li>Kadane's Algorithm iterates through the array, updating <code>max_current</code> based on the current element's value and deciding whether to start a new subarray.</li>
<li>
<p>The stock profit approach iterates through the prices array, updating <code>buy</code> when a lower price is encountered and treating the difference between the current price and <code>buy</code> as a potential profit.</p>
</li>
<li>
<p><strong>Comparison and Update:</strong></p>
</li>
<li>Kadane's Algorithm compares and updates <code>max_current</code> and <code>max_global</code> at each iteration.</li>
<li>The stock profit approach compares and updates <code>profit</code> whenever a positive difference between the current price and <code>buy</code> exceeds the current profit.</li>
</ol>
<h4>Complexity</h4>
<ul>
<li>Time complexity: $$O(n)$$, where $$n$$ is the length of the prices array. The algorithm iterates through the array once.</li>
<li>Space complexity: $$O(1)$$, as only a constant amount of extra space is used.</li>
</ul>
<h4>Code</h4>
<pre><code class="language-java">class Solution {
    public int maxProfit(int[] prices) {
        int buy = prices[0];
        int profit = 0;
        for (int i = 1; i &lt; prices.length; i++) {
            if (prices[i] &lt; buy) {
                buy = prices[i];
            } else if (prices[i] - buy &gt; profit) {
                profit = prices[i] - buy;
            }
        }
        return profit;
    }
}
</code></pre>
<pre><code class="language-c++">class Solution {
public:
    int maxProfit(std::vector&lt;int&gt;&amp; prices) {
        int buy = prices[0];
        int profit = 0;
        for (int i = 1; i &lt; prices.size(); i++) {
            if (prices[i] &lt; buy) {
                buy = prices[i];
            } else if (prices[i] - buy &gt; profit) {
                profit = prices[i] - buy;
            }
        }
        return profit;
    }
};
</code></pre>
<pre><code class="language-python">class Solution:
    def maxProfit(self, prices):
        buy = prices[0]
        profit = 0
        for i in range(1, len(prices)):
            if prices[i] &lt; buy:
                buy = prices[i]
            elif prices[i] - buy &gt; profit:
                profit = prices[i] - buy
        return profit
</code></pre>
<pre><code class="language-rust">impl Solution {
    pub fn max_profit(prices: Vec&lt;i32&gt;) -&gt; i32 {
        let mut buy = prices[0];
        let mut profit = 0;
        for i in 1..prices.len() {
            if prices[i] &lt; buy {
                buy = prices[i];
            } else if prices[i] - buy &gt; profit {
                profit = prices[i] - buy;
            }
        }
        profit
    }
}
</code></pre>
<pre><code class="language-javascript">class Solution {
    maxProfit(prices) {
        let buy = prices[0];
        let profit = 0;
        for (let i = 1; i &lt; prices.length; i++) {
            if (prices[i] &lt; buy) {
                buy = prices[i];
            } else if (prices[i] - buy &gt; profit) {
                profit = prices[i] - buy;
            }
        }
        return profit;
    }
}
</code></pre></div><div class='python-solution'><h4>[Python , Javascript]  Easy solution with very clear Explanation [Votes: 2457]</h4><p><strong>The question is saying us to find the best day to buy and sell stock, so we will get maiximum profit.</strong></p>
<p>**Some body might think that we can find min and max number from the array so that we can get the max profit. But here is one catch
For Example:
prices=[3,4,1,6]
min=1
max=6
profit=max-min=5 which is correct
in this Example:</p>
<pre><code>prices = [7,6,4,3,1]
</code></pre>
<p>min = 1 price at day 6
max = 7 price at day 1
max_profit = 7-1 = 6 u can think like this but you can't buy the stock at day 6 and sell it at day 1.**</p>
<p><strong>So what is the best way to find the max profit lets see 
<ins>Explanation:</ins>
let use initialize Left and Right pointer to first and second position of array
Here Left is to buy stock and Right is to sell stock</strong></p>
<p><code>Then we initialize our max_profit as 0.</code></p>
<h6># Now we will start our while loop and we will run till our</h6>
<p><strong>Right pointer less then length of array 
<ins>For Example: </ins>
prices=[7,1,5,3,6,4]
Note:
prices[left] --&gt; buy stock
prices[right] --&gt; sell stock
now we will check price at right and left pointer</strong></p>
<p><strong>step 1:</strong> <br>
price[left]=7 price[right]=1 profit=-6
here price[left] is greater than price[right] so we will move left pointer to the right position and increment our right pointer by 1. We always want our left point to be minimum</p>
<p><strong>step 2:</strong> <br>
price[left]=1 price[right]=5 profit=4
here price[left] is less than price[right] which means we will get profit so we will update our max_profit and move our right pointer alone</p>
<p><strong>step 3:</strong> <br>
price[left]=1 price[right]=3 profit=2
here price[left] is less than price[right] which means we will get profit so we will check our max_profit previously it</p>
<p>was 4 now our current profit is 2 so we will check which is maximum and update our max_profit and move our right pointer alone</p>
<p><strong>step 4:</strong> <br>
price[left]=1 price[right]=6 profit=5
here price[left] is less than price[right] which means we will get profit so we will check our max_profit previously it was 4 now our current profit is 5 so we will check which is maximum and update our max_profit and move our right pointer alone</p>
<p><strong>step 5:</strong> <br>
price[left]=1 price[right]=4 profit=3
same logic as above</p>
<pre><code>Big O :
n--&gt; length of array
Time Complexity: O(n)
Space Complexity: O(1)
</code></pre>
<p>**My Hand Writting will not be good ,please adjust it **</p>
<h5>lets go to the solution:</h5>
<p>python:</p>
<pre><code class="language-python">class Solution:
    def maxProfit(self,prices):
        left = 0 #Buy
        right = 1 #Sell
        max_profit = 0
        while right &lt; len(prices):
            currentProfit = prices[right] - prices[left] #our current Profit
            if prices[left] &lt; prices[right]:
                max_profit =max(currentProfit,max_profit)
            else:
                left = right
            right += 1
        return max_profit
</code></pre>
<p>javascript:</p>
<pre><code class="language-javascript">const maxProfit = (prices) =&gt; {
  let left = 0; // Buy
  let right = 1; // sell
  let max_profit = 0;
  while (right &lt; prices.length) {
    if (prices[left] &lt; prices[right]) {
      let profit = prices[right] - prices[left]; // our current profit

      max_profit = Math.max(max_profit, profit);
    } else {
      left = right;
    }
    right++;
  }
  return max_profit;
};
</code></pre>
<p><code>UPVOTE if you like  , If you have any question, feel free to ask.</code></p></div>