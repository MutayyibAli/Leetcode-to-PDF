<div class='cpp-solution'><h4>âœ…Beats 100% || C++ || JAVA || PYTHON || Beginner FriendlyðŸ”¥ðŸ”¥ðŸ”¥ [Votes: 298]</h4><p><strong>Explore Related Problems to Enhance Conceptual Understanding</strong>
1. <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/">Best Time to Buy and Sell Stock</a>
2. <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/description/">Best Time to Buy and Sell Stock II</a>
3. <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/description/">Best Time to Buy and Sell Stock III</a>
4. <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/description/">Best Time to Buy and Sell Stock III</a>
5. <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/description/">Best Time to Buy and Sell Stock with Cooldown</a></p>
<h4>Intuition</h4>
<p>The intuition behind the solution is to keep track of the minimum cost to buy a stock at each day and the maximum profit that can be achieved by selling the stock at each day.</p>
<h4>Approach:</h4>
<ol>
<li>Initialize two variables: <code>buy</code> and <code>sell</code>. Set <code>buy</code> to negative infinity and <code>sell</code> to zero. These variables will keep track of the maximum profit at each day.</li>
<li>Iterate through the prices of the stocks starting from the first day.</li>
<li>
<p>Update the <code>buy</code> variable by taking the maximum of its current value and the previous <code>sell</code> value minus the stock price. This represents the maximum profit after buying the stock.
   <code>buy = max(buy, sell - price)</code></p>
</li>
<li>
<p>Update the <code>sell</code> variable by taking the maximum of its current value and the previous <code>buy</code> value plus the stock price minus the transaction fee. This represents the maximum profit after selling the stock.
   <code>sell = max(sell, buy + price - fee)</code></p>
</li>
<li>
<p>After iterating through all the prices, the maximum profit will be stored in the <code>sell</code> variable.</p>
</li>
<li>Return the value of <code>sell</code> as the maximum profit.</li>
</ol>
<h4>Complexity</h4>
<ul>
<li>Time complexity:</li>
</ul>
<!-- Add your time complexity here, e.g. $$O(n)$$ -->
<p>$$O(n)$$</p>
<ul>
<li>Space complexity:</li>
</ul>
<!-- Add your space complexity here, e.g. $$O(n)$$ -->
<p>$$O(1)$$</p>
<h4>Code</h4>
<pre><code class="language-cpp">class Solution {
public:
    int maxProfit(vector&lt;int&gt;&amp; prices, int fee) {
        int buy = INT_MIN;
        int sell = 0;

        for (int price : prices) {
            buy = max(buy, sell - price);
            sell = max(sell, buy + price - fee);
        }

        return sell;
    }
};
</code></pre>
<pre><code class="language-Java">class Solution {
    public int maxProfit(int[] prices, int fee) {
        int buy = Integer.MIN_VALUE;
        int sell = 0;

        for (int price : prices) {
            buy = Math.max(buy, sell - price);
            sell = Math.max(sell, buy + price - fee);
        }

        return sell;
    }
}
</code></pre>
<pre><code class="language-Python3">class Solution:
    def maxProfit(self, prices: List[int], fee: int) -&gt; int:
        buy = float('-inf')
        sell = 0

        for price in prices:
            buy = max(buy, sell - price)
            sell = max(sell, buy + price - fee)

        return sell
</code></pre>
<p>Related problems</p>
<p><strong>If you found my solution helpful, I would greatly appreciate your upvote, as it would motivate me to continue sharing more solutions.</strong></p></div>