<div class='cpp-solution'><h2>✔️ CPP || EXPLAINED || CLEAN ✔️ -- Votes: 148</h2><p><strong>UPVOTE IF HELPFUL</strong><br />
We first create a <strong>( n X n )</strong> chess board and assign <strong>0</strong> to every index.<br />
Whenever a queen will be placed, index will be made <strong>1</strong>.</p>
<p>In this approach ,</p>
<p>Whenever a queen is placed, at first it is checked if it satisfies the conditions given that it is not under attack.</p>
<p><strong>validMove</strong> function.<br />
First it check there are no other queen in row the queen is filled.<br />
As we are putting queen column wise so no need to check for column.<br />
Then there are two diagonals to check for.</p>
<ul>
<li><strong>COLUMN_WISE</strong> FILLING = Only left part of the diagonals are checked as positions to the right of the present column are still unfilled.</li>
<li><strong>ROW_WISE</strong> FILLING = Only upper part of the diagonals are checked as positions below of the present column are still unfilled.</li>
</ul>
<p>If conditions satisfied, Queen is placed and we move to next column.<br />
If no queen satisfy the problem, we backtrack and try to change the position of previous queen.</p>
<p><strong>UPVOTE IF HELPFUL</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="n">Solution</span><span class="w"> </span><span class="err">{</span>
<span class="k">public</span><span class="err">:</span>
<span class="w">    </span><span class="nc">int</span><span class="w"> </span><span class="n">totalNQueens</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">col</span><span class="p">(</span><span class="n">n</span><span class="p">),</span><span class="w"> </span><span class="n">diag</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">anti_diag</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="n">diag</span><span class="p">,</span><span class="w"> </span><span class="n">anti_diag</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="err">}</span>

<span class="nc">int</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bool</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bool</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">diag</span><span class="p">,</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bool</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">anti_diag</span><span class="p">,</span><span class="w"> </span><span class="nc">int</span><span class="w"> </span><span class="k">row</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nc">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">size</span><span class="p">(</span><span class="n">col</span><span class="p">),</span><span class="w"> </span><span class="nf">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="k">row</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="k">column</span><span class="o">++</span><span class="p">)</span><span class="w">           </span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="err">!</span><span class="n">col</span><span class="o">[</span><span class="n">column</span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">diag</span><span class="o">[</span><span class="n">row + column</span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">anti_diag</span><span class="o">[</span><span class="n">row - column + n - 1</span><span class="o">]</span><span class="p">)</span><span class="err">{</span><span class="w"> </span>
<span class="w">            </span><span class="n">col</span><span class="o">[</span><span class="n">column</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">diag</span><span class="o">[</span><span class="n">row + column</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">anti_diag</span><span class="o">[</span><span class="n">row - column + n - 1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">            </span><span class="nf">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="n">diag</span><span class="p">,</span><span class="w"> </span><span class="n">anti_diag</span><span class="p">,</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span>
<span class="w">            </span><span class="n">col</span><span class="o">[</span><span class="n">column</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">diag</span><span class="o">[</span><span class="n">row + column</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">anti_diag</span><span class="o">[</span><span class="n">row - column + n - 1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="err">}</span><span class="w">                                </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">count</span><span class="p">;</span>
<span class="err">}</span>
<span class="err">}</span><span class="p">;</span>
</code></pre></div>

<p></p></div>


<div class='python-solution'><h2>Python recursive dfs solution. -- Votes: 42</h2><p>The idea here is quite similar to <a href="https://leetcode.com/discuss/53764/python-recursive-dfs-solution-with-comments">N-Queens </a> while we don't need to record the path, and as the return value is a number not a list, it's better to use a global variable to record the result.</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">totalNQueens</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">self</span><span class="p">.</span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">self</span><span class="p">.</span><span class="n">dfs</span><span class="p">(</span><span class="o">[</span><span class="n">-1</span><span class="o">]*</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">res</span>

<span class="n">def</span><span class="w"> </span><span class="n">dfs</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">res</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">#backtracking</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">nums</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="n">nums</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">valid</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="p">)</span><span class="err">:</span>
<span class="w">            </span><span class="n">self</span><span class="p">.</span><span class="n">dfs</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

<span class="n">def</span><span class="w"> </span><span class="n">valid</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">nums</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">nums</span><span class="o">[</span><span class="n">n</span><span class="o">]</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nf">abs</span><span class="p">(</span><span class="n">nums</span><span class="o">[</span><span class="n">n</span><span class="o">]-</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">n</span><span class="o">-</span><span class="nl">i</span><span class="p">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">False</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">True</span>
</code></pre></div></div><p style="page-break-before: always" ></p>