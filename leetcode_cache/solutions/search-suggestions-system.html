<div class='cpp-solution'><h2>✅C++ || All testcase passed->2 SOLUTION -> 10 LINES CODE -- Votes: 47</h2><p><strong>✅APPROACH : 1</strong></p>
<h2>VERY EASY SOLUTION -&gt; NO THINKING NEEDED JUST DO WHAT IS SAID IN QUESTION--&gt;</h2>
<ul>
<li><strong><em>sort the string list</em></strong></li>
<li><strong><em>create a temp vector to store the answer in each stage and then push it back</em></strong></li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">suggestedProducts</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">products</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">searchWord</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nc">int</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="n">products</span><span class="p">.</span><span class="k">size</span><span class="p">();</span>
<span class="w">        </span><span class="n">sort</span><span class="p">(</span><span class="n">products</span><span class="p">.</span><span class="k">begin</span><span class="p">(),</span><span class="n">products</span><span class="p">.</span><span class="k">end</span><span class="p">());</span>
<span class="w">        </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="n">ans</span><span class="p">;</span>
<span class="w">        </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="n">temp</span><span class="p">;</span>
<span class="w">        </span><span class="n">string</span><span class="w"> </span><span class="n">curr</span><span class="o">=</span><span class="ss">&quot;&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">auto</span><span class="w"> </span><span class="nl">c</span><span class="p">:</span><span class="n">searchWord</span><span class="p">)</span><span class="err">{</span>
<span class="w">            </span><span class="n">curr</span><span class="o">+=</span><span class="n">c</span><span class="p">;</span><span class="w">                </span><span class="o">//</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="k">character</span><span class="p">,</span><span class="w"> </span><span class="ow">like</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">m</span><span class="c1">--&gt;mo--&gt;mou--&gt;mous---&gt;mouse</span>
<span class="w">            </span><span class="n">temp</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="w">         </span><span class="o">//</span><span class="n">reusing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">vector</span>
<span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="err">{</span>
<span class="w">                </span><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="o">=</span><span class="n">products</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
<span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">curr</span><span class="p">.</span><span class="n">length</span><span class="p">())</span><span class="o">==</span><span class="n">curr</span><span class="p">)</span><span class="err">{</span><span class="w">              </span><span class="o">//</span><span class="n">finding</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">prefix</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">words</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">list</span>
<span class="w">                    </span><span class="n">temp</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="w">                </span><span class="err">}</span>
<span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">temp</span><span class="p">.</span><span class="k">size</span><span class="p">()</span><span class="o">==</span><span class="mi">3</span><span class="p">)</span><span class="k">break</span><span class="p">;</span><span class="w">         </span><span class="o">//</span><span class="n">question</span><span class="w"> </span><span class="n">asked</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">words</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="k">break</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="mi">3</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">            </span><span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ans</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
</code></pre></div>

<h2>✔ THIS WAS A VERY EASY SOLUTION BUT IT TAKES A LOT OF TIME ---&gt; SO WE NEED TO OPTIMIZE IT</h2>
<h2>✔ FOR OPTIMIZING WE USE BINARY SEARCH</h2>
<h2>✔ WHY BINARY SEARCH?? WHERE AND HOW??</h2>
<p><strong>LETS SEE----&gt;</strong></p>
<ul>
<li><strong>When the list is sorted the we know they are in increasing order(lexographically)</strong></li>
<li><strong>if we find 'mou' first at the index 3 then we are sure that we can not find any word containing 'mou' before index 3--&gt;Why?? --&gt; as before index 3 the words are smaller and in the sorted list we find it for the first time at index 3</strong></li>
<li><strong>How to find the index 3(as example) then?? --&gt; we will use lower_bound() -&gt; it returns the first occurance of searched element</strong></li>
<li><strong>lower_bound() gives us the index in a binary search manner---&gt; you can use lower_bound() stl or write a function for yourself</strong></li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="nt">vector</span><span class="o">&lt;</span><span class="nt">vector</span><span class="o">&lt;</span><span class="nt">string</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nt">suggestedProducts</span><span class="o">(</span><span class="nt">vector</span><span class="o">&lt;</span><span class="nt">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="nt">products</span><span class="o">,</span><span class="w"> </span><span class="nt">string</span><span class="w"> </span><span class="nt">searchWord</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="err">auto</span><span class="w"> </span><span class="err">start=products.begin()</span><span class="p">;</span>
<span class="w">        </span><span class="err">sort(start,products.end())</span><span class="p">;</span>
<span class="w">        </span><span class="err">vector&lt;vector&lt;string&gt;&gt;ans</span><span class="p">;</span>
<span class="w">        </span><span class="err">vector&lt;string&gt;temp</span><span class="p">;</span>
<span class="w">        </span><span class="err">string</span><span class="w"> </span><span class="err">curr=&quot;&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="err">for(auto</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="n">searchWord</span><span class="p">)</span><span class="err">{</span>
<span class="w">            </span><span class="n">curr</span><span class="o">+=</span><span class="n">c</span><span class="p">;</span>
<span class="w">            </span><span class="err">temp.clear()</span><span class="p">;</span><span class="w">                       </span><span class="err">//upto</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">same</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">previous</span><span class="w"> </span><span class="err">code</span>
<span class="w">            </span><span class="err">start=lower_bound(start,products.end(),curr)</span><span class="p">;</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">providing</span><span class="w"> </span><span class="err">first</span><span class="w"> </span><span class="err">occurance</span>
<span class="w">            </span><span class="err">for(int</span><span class="w"> </span><span class="err">i=0</span><span class="p">;</span><span class="err">i&lt;3</span><span class="w"> </span><span class="err">&amp;&amp;</span><span class="w"> </span><span class="err">start+i!=products.end()</span><span class="p">;</span><span class="err">i++){</span><span class="w">         </span><span class="err">//question</span><span class="w"> </span><span class="err">asked</span><span class="w"> </span><span class="err">3</span><span class="w"> </span><span class="err">times</span><span class="w"> </span><span class="err">so</span><span class="w"> </span><span class="err">i&lt;3</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">start+i!=products.end()</span><span class="w"> </span><span class="err">-&gt;</span><span class="w"> </span><span class="err">checks</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">index</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">not</span>
<span class="w">                </span><span class="err">string</span><span class="w"> </span><span class="err">s=*(start+i)</span><span class="p">;</span><span class="w">        </span><span class="err">//(start+i)</span><span class="w"> </span><span class="err">gives</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">pointer</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">*(start+i)</span><span class="w"> </span><span class="err">gives</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">at</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">pointer-&gt;here</span><span class="w"> </span><span class="err">string</span>
<span class="w">                </span><span class="err">if(s.find(curr))break</span><span class="p">;</span><span class="w">         </span><span class="err">//if</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">dont</span><span class="w"> </span><span class="err">find</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">curr</span><span class="w"> </span><span class="err">then</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">sure</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">we</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">going</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">find</span><span class="w"> </span><span class="err">it</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">upcoming</span><span class="w"> </span><span class="err">words</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">they</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">sorted</span><span class="w"> </span><span class="err">manner</span>
<span class="w">                </span><span class="err">temp.push_back(s)</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="nt">ans</span><span class="p">.</span><span class="nc">push_back</span><span class="o">(</span><span class="nt">temp</span><span class="o">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="nt">return</span><span class="w"> </span><span class="nt">ans</span><span class="o">;</span>
<span class="w">    </span><span class="err">}</span>
</code></pre></div>

<h2>✅ Hope this helped a little bit--&gt; if so please upvote it.</h2>
<p></p>
<p>✅ Happy Coding</p></div>


<div class='python-solution'><h2>JS, Python, Java, C++ | Easy Iterative Solution w/ Explanation -- Votes: 49</h2><p><em>(Note: This is part of a series of Leetcode solution explanations. If you like this solution or find it useful,</em> <strong><em>please upvote</em></strong> <em>this post.)</em></p>
<hr />
<h5><strong><em>Idea:</em></strong></h5>
<p>Despite the fact that the clues suggest a <strong>binary search</strong> and a <strong>trie</strong>, the optimal solution to this problem needs neither. The substrings formed by adding one letter at a time from the search word (<strong>S</strong>) are naturally already in lexicographical order, as are the results that we're instructed to push into our answer array (<strong>ans</strong>).</p>
<p>So if we sort the products array (<strong>P</strong>), we should only ever need to iterate through <strong>P</strong> once during the entire remaining process of the solution with a <strong>time complexity</strong> of <strong>O(N)</strong>. A single binary search would only require <strong>log(N) time</strong>, but we'd have to perform <strong>M = S.length</strong> binary searches, so in total they would take <strong>O(M * log(N)) time</strong>, compared to the <strong>O(N)</strong> time of a simple iteration.</p>
<p>With constraints of <strong>1000</strong> on both <strong>M</strong> and <strong>N</strong>, the binary search route would max out at a worse time complexity than iteration. Regardless, the sort itself, which is required for both, requires <strong>O(N * log(N))</strong> time already, so neither option can decrease the overall time complexity required.</p>
<p>So in order to only require a single pass through <strong>P</strong>, we should keep track of the current bounds for the range of matches (<strong>left, right</strong>), then we'll iterate through the characters (<strong>c</strong>) of <strong>S</strong>. At each iteration, we'll first want to move <strong>left</strong> forward and <strong>right</strong> back to narrow the range of matches based on the new value of <strong>c</strong>.</p>
<p>Then we can add the next three elements of <strong>P</strong> to our result array (<strong>res</strong>), as long as they fall inside the range <strong>[left, right]</strong>. Once that's done, we can add <strong>res</strong> to <strong>ans</strong> and move to the next iteration.</p>
<p>Once we've finished iterating through <strong>S</strong>, we can <strong>return ans</strong>.</p>
<ul>
<li><em><strong>Time Complexity: O(N * log(N))</strong> where <strong>N</strong> is the length of <strong>P</strong></em></li>
<li><em><strong>Space Complexity: O(1)</strong> excluding output space required for <strong>ans</strong></em></li>
</ul>
<hr />
<h5><strong><em>Javascript Code:</em></strong></h5>
<p>The best result for the code below is <strong>108ms / 49.5MB</strong> (beats 100% / 99%).</p>
<div class="codehilite"><pre><span></span><code><span class="nx">Language</span><span class="o">:</span><span class="w"> </span><span class="nx">javascript</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">suggestedProducts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">P</span><span class="p">,</span><span class="w"> </span><span class="nx">S</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">P</span><span class="p">.</span><span class="nx">sort</span><span class="p">()</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nx">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">P</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">S</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">S</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="w"> </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">P</span><span class="p">[</span><span class="nx">left</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">c</span><span class="p">)</span><span class="w"> </span><span class="nx">left</span><span class="o">++</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">P</span><span class="p">[</span><span class="nx">right</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">c</span><span class="p">)</span><span class="w"> </span><span class="nx">right</span><span class="o">--</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nx">right</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="o">++</span><span class="p">)</span>
<span class="w">            </span><span class="nx">res</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">P</span><span class="p">[</span><span class="nx">left</span><span class="o">+</span><span class="nx">j</span><span class="p">])</span>
<span class="w">        </span><span class="nx">ans</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">ans</span>
<span class="p">};</span>
</code></pre></div>

<hr />
<h5><strong><em>Python Code:</em></strong></h5>
<p>The best result for the code below is <strong>60ms / 16.8MB</strong> (beats 99% / 99%).</p>
<div class="codehilite"><pre><span></span><code><span class="n">Language</span><span class="p">:</span> <span class="n">python</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">suggestedProducts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">P</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">S</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="n">P</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">ans</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)):</span>
            <span class="n">c</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> 
            <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">left</span><span class="p">])</span> <span class="o">==</span> <span class="n">i</span> <span class="ow">or</span> <span class="n">P</span><span class="p">[</span><span class="n">left</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">):</span> <span class="n">left</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="o">==</span> <span class="n">i</span> <span class="ow">or</span> <span class="n">P</span><span class="p">[</span><span class="n">right</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">c</span><span class="p">):</span> <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">left</span> <span class="o">+</span> <span class="n">j</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">:</span> <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span> <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">left</span><span class="o">+</span><span class="n">j</span><span class="p">])</span>
            <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ans</span>
</code></pre></div>

<hr />
<h5><strong><em>Java Code:</em></strong></h5>
<p>The best result for the code below is <strong>6ms / 44.5MB</strong> (beats 100% / 68%).</p>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">java</span>
<span class="kd">class</span> <span class="nc">Solution</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">suggestedProducts</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">S</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Arrays</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">P</span><span class="p">);</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">P</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="na">length</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">            </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">P</span><span class="o">[</span><span class="n">left</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">P</span><span class="o">[</span><span class="n">left</span><span class="o">]</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="n">left</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">P</span><span class="o">[</span><span class="n">right</span><span class="o">]</span><span class="p">.</span><span class="na">length</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">P</span><span class="o">[</span><span class="n">right</span><span class="o">]</span><span class="p">.</span><span class="na">charAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="n">right</span><span class="o">--</span><span class="p">;</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<span class="w">                </span><span class="n">res</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">P</span><span class="o">[</span><span class="n">left</span><span class="o">+</span><span class="n">j</span><span class="o">]</span><span class="p">);</span>
<span class="w">            </span><span class="n">ans</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ans</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h5><strong><em>C++ Code:</em></strong></h5>
<p>The best result for the code below is <strong>32ms / 26.2MB</strong> (beats 96% / 86%).</p>
<div class="codehilite"><pre><span></span><code><span class="nl">Language</span><span class="p">:</span><span class="w"> </span><span class="n">c</span><span class="o">++</span>
<span class="n">class</span><span class="w"> </span><span class="n">Solution</span><span class="w"> </span><span class="p">{</span>
<span class="n">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">suggestedProducts</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">S</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">sort</span><span class="p">(</span><span class="n">P</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">P</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
<span class="w">        </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">ans</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">P</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">length</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">res</span><span class="p">;</span>
<span class="w">            </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">left</span><span class="p">].</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">P</span><span class="p">[</span><span class="n">left</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="n">left</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">left</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">right</span><span class="p">].</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">P</span><span class="p">[</span><span class="n">right</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="p">))</span><span class="w"> </span><span class="n">right</span><span class="o">--</span><span class="p">;</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">right</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<span class="w">                </span><span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">left</span><span class="o">+</span><span class="n">j</span><span class="p">]);</span>
<span class="w">            </span><span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ans</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div><p style="page-break-before: always" ></p>