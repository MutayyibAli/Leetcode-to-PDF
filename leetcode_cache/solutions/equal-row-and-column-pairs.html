<div class='cpp-solution'><h2>100% fast, easy understanding. -- Votes: 123</h2><div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="n">Solution</span><span class="w"> </span><span class="err">{</span>
<span class="k">public</span><span class="err">:</span>
<span class="w">    </span><span class="nc">int</span><span class="w"> </span><span class="n">equalPairs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="nc">int</span><span class="o">&gt;&gt;&amp;</span><span class="w"> </span><span class="n">grid</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nf">count</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">equal</span><span class="w"> </span><span class="n">pairs</span><span class="p">.</span>
<span class="w">        </span><span class="nc">int</span><span class="w"> </span><span class="n">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="k">map</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="nc">int</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="nc">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mp</span><span class="p">;</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Storing</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="nc">int</span><span class="w"> </span><span class="n">he</span><span class="w"> </span><span class="k">map</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">grid</span><span class="p">.</span><span class="k">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">            </span><span class="n">mp</span><span class="o">[</span><span class="n">grid[i</span><span class="o">]</span><span class="err">]</span><span class="o">++</span><span class="p">;</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">grid</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">.</span><span class="k">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">        </span><span class="err">{</span>
<span class="w">            </span><span class="n">vector</span><span class="o">&lt;</span><span class="nc">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">extracting</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">vector</span><span class="p">.</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">grid</span><span class="p">.</span><span class="k">size</span><span class="p">();</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<span class="w">                </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">grid</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="n">i</span><span class="o">]</span><span class="p">);</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="k">Add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">appeared</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">row</span><span class="p">.</span>
<span class="w">            </span><span class="n">ans</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">mp</span><span class="o">[</span><span class="n">v</span><span class="o">]</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="k">Return</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nf">count</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ans</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span><span class="p">;</span>
</code></pre></div>

<p>Hope you like it.</p></div>


<div class='python-solution'><h2>Python3     ||    3 lines,  transpose, Ctr w/ explanation    ||    T/S: 97% / 71% -- Votes: 86</h2><p>Consider this grid for an example:</p>
<div class="codehilite"><pre><span></span><code>           grid = [[1,2,1,9]
                   [2,8,9,2]
                   [1,2,1,9]
                   [9,2,6,3]]
</code></pre></div>

<p>Here's the plan:</p>
<ul>
<li>Determine<code>tpse</code>, the transpose of<code>grid</code>(using<code>zip(*grid)</code>):</li>
</ul>
<div class="codehilite"><pre><span></span><code>           tspe = [[1,2,1,9] 
                   [2,8,2,2]
                   [1,9,1,6]
                   [9,2,9,3]]
</code></pre></div>

<ul>
<li>The problem now is to determine the pairs of identical rows, one row in <code>tpse</code>and the other in<code>grid</code>. We hash<code>grid</code>and<code>tspe</code>:</li>
</ul>
<div class="codehilite"><pre><span></span><code>          Counter(tuple(grid)):
               {(1,2,1,9): 2, (2,8,9,2): 1, (9,2,6,3): 1}

           Counter(zip(*grid)):
            {(1,2,1,9): 1, (2,8,2,2): 1, (1,9,1,6): 1, (9,2,9,3): 1}
</code></pre></div>

<p>â€¢ Finally, we determine the number of pairs:</p>
<div class="codehilite"><pre><span></span><code>       (1,2,1,9): 2 and (1,2,1,9): 1    =&gt; 2x1 = 2
</code></pre></div>

<p>Here's the code:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nl">Solution</span><span class="p">:</span><span class="w">                                </span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">equalPairs</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">grid</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">List[int</span><span class="o">]</span><span class="err">]</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">int</span><span class="err">:</span>

<span class="w">        </span><span class="n">tpse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Counter</span><span class="p">(</span><span class="n">zip</span><span class="p">(</span><span class="o">*</span><span class="n">grid</span><span class="p">))</span><span class="w">                  </span><span class="err">#</span><span class="w"> </span><span class="o">&lt;</span><span class="c1">-- determine the transpose</span>
<span class="w">                                                    </span><span class="err">#</span><span class="w">     </span><span class="ow">and</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">rows</span>

<span class="w">        </span><span class="n">grid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Counter</span><span class="p">(</span><span class="k">map</span><span class="p">(</span><span class="n">tuple</span><span class="p">,</span><span class="n">grid</span><span class="p">))</span><span class="w">             </span><span class="err">#</span><span class="w"> </span><span class="o">&lt;</span><span class="c1">-- hash the rows of grid. (Note the tuple-map, so</span>
<span class="w">                                                    </span><span class="err">#</span><span class="w">     </span><span class="n">we</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="n">apples</span><span class="w"> </span><span class="n">w</span><span class="o">/</span><span class="w"> </span><span class="n">apples</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">next</span><span class="w"> </span><span class="n">step</span><span class="p">.)</span>

<span class="w">        </span><span class="k">return</span><span class="w">  </span><span class="nf">sum</span><span class="p">(</span><span class="n">tpse</span><span class="o">[</span><span class="n">t</span><span class="o">]*</span><span class="n">grid</span><span class="o">[</span><span class="n">t</span><span class="o">]</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">tpse</span><span class="p">)</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="o">&lt;</span><span class="c1">-- compute the number of identical pairs</span>
</code></pre></div>

<p><a href="https://leetcode.com/problems/equal-row-and-column-pairs/submissions/1287382373/">https://leetcode.com/problems/equal-row-and-column-pairs/submissions/1287382373/</a></p>
<p>I could be wrong, but I think that time complexity is <em>O</em>(<em>N</em>) and space complexity is <em>O</em>(<em>N</em>), in which <em>N</em> ~ the count of elements in <code>grid</code>.</p></div><p style="page-break-before: always" ></p>