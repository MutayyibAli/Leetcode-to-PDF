Cpp Solution:
 - First, check the four border of the matrix. If there is a element is
   'O', alter it and all its neighbor 'O' elements to '1'.
   
   
 - Then ,alter all the 'O' to 'X'
 - At last,alter all the '1' to 'O'

For example:

             X X X X           X X X X             X X X X
             X X O X  ->       X X O X    ->       X X X X
             X O X X           X 1 X X             X O X X
             X O X X           X 1 X X             X O X X
        

    class Solution {
    public:
    	void solve(vector<vector<char>>& board) {
            int i,j;
            int row=board.size();
            if(!row)
            	return;
            int col=board[0].size();

    		for(i=0;i<row;i++){
    			check(board,i,0,row,col);
    			if(col>1)
    				check(board,i,col-1,row,col);
    		}
    		for(j=1;j+1<col;j++){
    			check(board,0,j,row,col);
    			if(row>1)
    				check(board,row-1,j,row,col);
    		}
    		for(i=0;i<row;i++)
    			for(j=0;j<col;j++)
    				if(board[i][j]=='O')
    					board[i][j]='X';
    		for(i=0;i<row;i++)
    			for(j=0;j<col;j++)
    				if(board[i][j]=='1')
    					board[i][j]='O';
        }
    	void check(vector<vector<char> >&vec,int i,int j,int row,int col){
    		if(vec[i][j]=='O'){
    			vec[i][j]='1';
    			if(i>1)
    				check(vec,i-1,j,row,col);
    			if(j>1)
    				check(vec,i,j-1,row,col);
    			if(i+1<row)
    				check(vec,i+1,j,row,col);
    			if(j+1<col)
    				check(vec,i,j+1,row,col);
    		}
    	}
    };


Python Solution:
Phase 1: "Save" every O-region touching the border, changing its cells to 'S'.  
Phase 2: Change every 'S' on the board to 'O' and everything else to 'X'.

    def solve(self, board):
        if not any(board): return
    
        m, n = len(board), len(board[0])
        save = [ij for k in range(m+n) for ij in ((0, k), (m-1, k), (k, 0), (k, n-1))]
        while save:
            i, j = save.pop()
            if 0 <= i < m and 0 <= j < n and board[i][j] == 'O':
                board[i][j] = 'S'
                save += (i, j-1), (i, j+1), (i-1, j), (i+1, j)

        board[:] = [['XO'[c == 'S'] for c in row] for row in board]

In case you don't like my last line, you could do this instead:

        for row in board:
            for i, c in enumerate(row):
                row[i] = 'XO'[c == 'S']